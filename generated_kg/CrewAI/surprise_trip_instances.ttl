@prefix : <http://www.w3id.org/agentic-ai/onto#> .
@prefix pp: <http://purl.org/net/p-plan#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix beam: <http://w3id.org/beam/core#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix agento-ext: <http://www.w3id.org/agentic-ai/ext#> .

# Execution time: 130.60 seconds
# Model used: gpt-5-mini

# Issues / Assumptions:
# - The ontology does not provide a property to represent the crew/process execution mode (e.g., Process.sequential vs hierarchical). I represent the workflow as a WorkflowPattern and ordered WorkflowSteps but cannot encode the "Process.sequential" enum directly.
# - The ontology lacks explicit properties to represent "training" parameters, iteration counts, or runtime flags (e.g., verbose, allow_delegation). These are preserved as Config entries where possible, but there is no typed property for these runtime semantics.
# - There is no explicit property to map Pydantic output_json schema references to a Task other than using producedResource. I model the Itinerary schema as an Instance/Resource and link it via producedResource.
# - Tool implementation details (method signatures, SDK-specific parameters) and code-level constructs are not modeled (per instructions). Only the semantic tool identities and usage relationships are included.
# - Sample runtime input values (from main.run) are captured as a beam:Instance resource with description; the ontology has no dedicated "input" property to link this resource to a Task/Team/Run. I include it as a standalone resource.
# - The example/custom tool file exists in source but is commented-out in crew setup. I include an individual for the example tool and mark it as "example / not used by default".
# - Any details not expressible with existing classes/properties (e.g., Process enum, training iteration semantics, boolean flags with semantics) are included as Config key/value literals.

################################################################################
# Team (Crew)
################################################################################

:SurpriseTravelCrew rdf:type :Team ;
    rdfs:label "SurpriseTravelCrew" ;
    :hasAgentMember :agent_personalized_activity_planner ,
                    :agent_restaurant_scout ,
                    :agent_itinerary_compiler ;
    :hasWorkflowPattern :SurpriseTravelWorkflow ;
    :hasSystemConfig :cfg_system_agents_config_file , :cfg_system_tasks_config_file ;
    dcterms:description """
    SurpriseTravel crew coordinating agents to plan a surprise travel itinerary.
    Agents: personalized_activity_planner, restaurant_scout, itinerary_compiler.
    Process: sequential (represented in steps order).
    """ .

################################################################################
# System Config (files referenced in code)
################################################################################

:cfg_system_agents_config_file rdf:type :Config ;
    :configKey "agents_config_path" ;
    :configValue "config/agents.yaml" ;
    rdfs:label "agents.yaml path" .

:cfg_system_tasks_config_file rdf:type :Config ;
    :configKey "tasks_config_path" ;
    :configValue "config/tasks.yaml" ;
    rdfs:label "tasks.yaml path" .

################################################################################
# Agents
################################################################################

:agent_personalized_activity_planner rdf:type :LLMAgent ;
    rdfs:label "personalized_activity_planner" ;
    :agentID "personalized_activity_planner" ;
    :agentRole "Activity Planner" ;
    :agentToolUsage :SerperDevTool , :ScrapeWebsiteTool ;
    :hasAgentConfig :cfg_pa_role , :cfg_pa_goal , :cfg_pa_backstory , :cfg_pa_verbose , :cfg_pa_allow_delegation ;
    :hasAgentGoal :goal_personalized_activity_planner ;
    :agentPrompt :prompt_agent_personalized_activity_planner ;
    dcterms:description "An agent that researches and finds activities and events matching the traveler's interests and age group." .

:cfg_pa_role rdf:type :Config ;
    :configKey "role" ;
    :configValue "Activity Planner" .

:cfg_pa_goal rdf:type :Config ;
    :configKey "goal" ;
    :configValue "Research and find cool things to do at the destination, including activities and events that match the traveler's interests and age group" .

:cfg_pa_backstory rdf:type :Config ;
    :configKey "backstory" ;
    :configValue "You are skilled at creating personalized itineraries that cater to the specific preferences and demographics of travelers." .

:cfg_pa_verbose rdf:type :Config ;
    :configKey "verbose" ;
    :configValue "True" .

:cfg_pa_allow_delegation rdf:type :Config ;
    :configKey "allow_delegation" ;
    :configValue "False" .

:prompt_agent_personalized_activity_planner rdf:type :Prompt ;
    :promptInstruction "Role: Activity Planner\nBackstory: You are skilled at creating personalized itineraries that cater to the specific preferences and demographics of travelers." ;
    :promptContext "Use internet search tools and recommendation engines to gather information; produce day-by-day activities with name, location, description and suitability rationale." ;
    :promptOutputIndicator "A list of recommended activities and events for each day of the trip. Each entry should include the activity name, location, a brief description, and why it's suitable for the traveler. And potential reviews and ratings of the activities." .

:goal_personalized_activity_planner rdf:type :Goal ;
    dcterms:description "Research and find cool things to do at the destination, including activities and events that match the traveler's interests and age group" ;
    rdfs:label "Goal: personalized activity planner" .

:agent_restaurant_scout rdf:type :LLMAgent ;
    rdfs:label "restaurant_scout" ;
    :agentID "restaurant_scout" ;
    :agentRole "Restaurant Scout" ;
    :agentToolUsage :SerperDevTool , :ScrapeWebsiteTool ;
    :hasAgentConfig :cfg_rs_role , :cfg_rs_goal , :cfg_rs_backstory , :cfg_rs_verbose , :cfg_rs_allow_delegation ;
    :hasAgentGoal :goal_restaurant_scout ;
    :agentPrompt :prompt_agent_restaurant_scout ;
    dcterms:description "An agent that finds highly-rated restaurants and scenic locations aligned with traveler preferences." .

:cfg_rs_role rdf:type :Config ;
    :configKey "role" ;
    :configValue "Restaurant Scout" .

:cfg_rs_goal rdf:type :Config ;
    :configKey "goal" ;
    :configValue "Find highly-rated restaurants and dining experiences at the destination, and recommend scenic locations and fun activities" .

:cfg_rs_backstory rdf:type :Config ;
    :configKey "backstory" ;
    :configValue "As a food lover, you know the best spots in town for a delightful culinary experience. You also have a knack for finding picturesque and entertaining locations." .

:cfg_rs_verbose rdf:type :Config ;
    :configKey "verbose" ;
    :configValue "True" .

:cfg_rs_allow_delegation rdf:type :Config ;
    :configKey "allow_delegation" ;
    :configValue "False" .

:prompt_agent_restaurant_scout rdf:type :Prompt ;
    :promptInstruction "Role: Restaurant Scout\nBackstory: As a food lover, you know the best spots in town for a delightful culinary experience. You also have a knack for finding picturesque and entertaining locations." ;
    :promptContext "Use internet search tools, restaurant review sites, and travel guides to find restaurants and scenic locations aligned with traveler preferences." ;
    :promptOutputIndicator "A list of recommended restaurants, scenic locations, and fun activities for each day of the trip. Each entry should include the name, location (address), type of cuisine or activity, and a brief description and ratings." .

:goal_restaurant_scout rdf:type :Goal ;
    dcterms:description "Find highly-rated restaurants and dining experiences at the destination, and recommend scenic locations and fun activities" ;
    rdfs:label "Goal: restaurant scout" .

:agent_itinerary_compiler rdf:type :LLMAgent ;
    rdfs:label "itinerary_compiler" ;
    :agentID "itinerary_compiler" ;
    :agentRole "Itinerary Compiler" ;
    :agentToolUsage :SerperDevTool ;
    :hasAgentConfig :cfg_ic_role , :cfg_ic_goal , :cfg_ic_backstory , :cfg_ic_verbose , :cfg_ic_allow_delegation ;
    :hasAgentGoal :goal_itinerary_compiler ;
    :agentPrompt :prompt_agent_itinerary_compiler ;
    dcterms:description "An agent that compiles researched information into a comprehensive day-by-day itinerary, integrating flights and hotel information." .

:cfg_ic_role rdf:type :Config ;
    :configKey "role" ;
    :configValue "Itinerary Compiler" .

:cfg_ic_goal rdf:type :Config ;
    :configKey "goal" ;
    :configValue "Compile all researched information into a comprehensive day-by-day itinerary, ensuring the integration of flights and hotel information" .

:cfg_ic_backstory rdf:type :Config ;
    :configKey "backstory" ;
    :configValue "With an eye for detail, you organize all the information into a coherent and enjoyable travel plan." .

:cfg_ic_verbose rdf:type :Config ;
    :configKey "verbose" ;
    :configValue "True" .

:cfg_ic_allow_delegation rdf:type :Config ;
    :configKey "allow_delegation" ;
    :configValue "False" .

:prompt_agent_itinerary_compiler rdf:type :Prompt ;
    :promptInstruction "Role: Itinerary Compiler\nBackstory: With an eye for detail, you organize all the information into a coherent and enjoyable travel plan." ;
    :promptContext "Compile all researched information into a comprehensive day-by-day itinerary for the trip; ensure integration of flights, hotel information, activities, and restaurants. Use text formatting and document creation tools." ;
    :promptOutputIndicator "A detailed itinerary document, including a day-by-day plan with flights, hotel details, activities, restaurants, and scenic locations." .

:goal_itinerary_compiler rdf:type :Goal ;
    dcterms:description "Compile all researched information into a comprehensive day-by-day itinerary, ensuring the integration of flights and hotel information" ;
    rdfs:label "Goal: itinerary compiler" .

################################################################################
# Tools
################################################################################

:SerperDevTool rdf:type :Tool ;
    rdfs:label "SerperDevTool" ;
    dcterms:description "Search / web tools used to query the web (as configured in the source crew)." .

:ScrapeWebsiteTool rdf:type :Tool ;
    rdfs:label "ScrapeWebsiteTool" ;
    dcterms:description "Tool to scrape website content; used by agents for gathering reviews and details." .

:MyCustomTool rdf:type :Tool ;
    rdfs:label "MyCustomTool" ;
    rdfs:comment "Example custom tool present in source (tools/custom_tool.py). This example tool is included in the repository but commented-out in crew agent configuration and not used by default." .

################################################################################
# Tasks
################################################################################

:personalized_activity_planning_task rdf:type :Task ;
    rdfs:label "personalized_activity_planning_task" ;
    :performedByAgent :agent_personalized_activity_planner ;
    :taskPrompt :prompt_task_personalized_activity_planning ;
    :hasConfig :cfg_task_personalized_activity_planning_description , :cfg_task_personalized_activity_planning_expected_output ;
    :contributesToObjective :obj_personalized_activity_planning ;
    dcterms:description """
    Research and find cool things to do at {destination}.
    Focus on activities and events that match the traveler's interests and age group.
    Utilize internet search tools and recommendation engines to gather the information.

    Traveler's information:

    - origin: {origin}
    - destination: {destination}
    - age of the traveler: {age}
    - hotel localtion: {hotel_location}
    - flight infromation: {flight_information}
    - how long is the trip: {trip_duration}
    """ .

:cfg_task_personalized_activity_planning_description rdf:type :Config ;
    :configKey "description_template" ;
    :configValue """Research and find cool things to do at {destination}. Focus on activities and events that match the traveler's interests and age group. Utilize internet search tools and recommendation engines to gather the information.
Traveler's information: - origin: {origin} - destination: {destination} - age: {age} - hotel_location: {hotel_location} - flight_information: {flight_information} - trip_duration: {trip_duration}""" .

:cfg_task_personalized_activity_planning_expected_output rdf:type :Config ;
    :configKey "expected_output" ;
    :configValue "A list of recommended activities and events for each day of the trip. Each entry should include the activity name, location, a brief description, and why it's suitable for the traveler. And potential reviews and ratings of the activities." .

:prompt_task_personalized_activity_planning rdf:type :Prompt ;
    :promptInstruction "Task: Research and find activities and events at {destination} tailored to the traveler's profile." ;
    :promptInputData "Placeholders: {origin}, {destination}, {age}, {hotel_location}, {flight_information}, {trip_duration}" ;
    :promptOutputIndicator "List of recommended activities and events with name, location, description, suitability, reviews, ratings." .

:obj_personalized_activity_planning rdf:type :Objective ;
    dcterms:description "Produce a per-day list of recommended activities and events including details and suitability rationale." .

:restaurant_scenic_location_scout_task rdf:type :Task ;
    rdfs:label "restaurant_scenic_location_scout_task" ;
    :performedByAgent :agent_restaurant_scout ;
    :taskPrompt :prompt_task_restaurant_scout ;
    :hasConfig :cfg_task_restaurant_scout_description , :cfg_task_restaurant_scout_expected_output ;
    :contributesToObjective :obj_restaurant_scout ;
    dcterms:description """
    Find highly-rated restaurants and dining experiences at {destination}.
    Recommend scenic locations and fun activities that align with the traveler's preferences.
    Use internet search tools, restaurant review sites, and travel guides.
    Make sure to find a variety of options to suit different tastes and budgets, and ratings for them.

    Traveler's information:
    - origin: {origin}
    - destination: {destination}
    - age of the traveler: {age}
    - hotel localtion: {hotel_location}
    - flight infromation: {flight_information}
    - how long is the trip: {trip_duration}
    """ .

:cfg_task_restaurant_scout_description rdf:type :Config ;
    :configKey "description_template" ;
    :configValue "Find highly-rated restaurants and dining experiences at {destination}. Recommend scenic locations and fun activities that align with the traveler's preferences." .

:cfg_task_restaurant_scout_expected_output rdf:type :Config ;
    :configKey "expected_output" ;
    :configValue "A list of recommended restaurants, scenic locations, and fun activities for each day of the trip. Each entry should include the name, location (address), type of cuisine or activity, and a brief description and ratings." .

:prompt_task_restaurant_scout rdf:type :Prompt ;
    :promptInstruction "Task: Find restaurants and scenic locations at {destination}, provide addresses, types, descriptions and ratings." ;
    :promptInputData "Placeholders: {origin}, {destination}, {age}, {hotel_location}, {flight_information}, {trip_duration}" ;
    :promptOutputIndicator "List of restaurants and scenic locations with ratings and descriptions." .

:obj_restaurant_scout rdf:type :Objective ;
    dcterms:description "Produce recommended restaurants and scenic locations with ratings and descriptions for each relevant day." .

:itinerary_compilation_task rdf:type :Task ;
    rdfs:label "itinerary_compilation_task" ;
    :performedByAgent :agent_itinerary_compiler ;
    :taskPrompt :prompt_task_itinerary_compilation ;
    :hasConfig :cfg_task_itinerary_compilation_description , :cfg_task_itinerary_compilation_expected_output ;
    :contributesToObjective :obj_itinerary_compilation ;
    :producedResource :Itinerary_Instance ;
    dcterms:description """
    Compile all researched information into a comprehensive day-by-day itinerary for the trip to {destination}.
    Ensure the itinerary integrates flights, hotel information, and all planned activities and dining experiences.
    Use text formatting and document creation tools to organize the information.
    """ .

:cfg_task_itinerary_compilation_description rdf:type :Config ;
    :configKey "description_template" ;
    :configValue "Compile all researched information into a comprehensive day-by-day itinerary for the trip to {destination} including flights and hotel information." .

:cfg_task_itinerary_compilation_expected_output rdf:type :Config ;
    :configKey "expected_output" ;
    :configValue "A detailed itinerary document, the itinerary should include a day-by-day plan with flights, hotel details, activities, restaurants, and scenic locations." .

:prompt_task_itinerary_compilation rdf:type :Prompt ;
    :promptInstruction "Task: Compile all researched information into a day-by-day itinerary for the trip to {destination}, include flights, hotel, activities and restaurants." ;
    :promptInputData "Placeholders: {origin}, {destination}, {age}, {hotel_location}, {flight_information}, {trip_duration}" ;
    :promptOutputIndicator "A detailed itinerary document (structured) matching the Itinerary schema." .

:obj_itinerary_compilation rdf:type :Objective ;
    dcterms:description "Produce a single integrated itinerary document that schedules flights, hotel, day plans, activities and restaurants." .

################################################################################
# Itinerary Schema / Produced Resource
################################################################################

:Itinerary_Instance rdf:type beam:Instance , :Instance ;
    rdfs:label "Itinerary_Instance" ;
    dcterms:description """Pydantic output schema named Itinerary:
- name: string (funny name for itinerary)
- day_plans: List[DayPlan], each DayPlan:
    - date: string
    - activities: List[Activity], each Activity:
        - name: string
        - location: string
        - description: string
        - date: string
        - cousine: string
        - why_its_suitable: string
        - reviews: Optional[List[str]]
        - rating: Optional[float]
    - restaurants: List[str]
    - flight: Optional[str]
- hotel: string
This resource is the output_json schema referenced by itinerary_compilation_task.
""" .

################################################################################
# Workflow Pattern and Steps (sequential)
################################################################################

:SurpriseTravelWorkflow rdf:type :WorkflowPattern ;
    rdfs:label "SurpriseTravel Sequential Workflow" ;
    dcterms:description "Workflow pattern with three sequential steps: (1) personalized activity planning, (2) restaurant and scenic location scouting, (3) itinerary compilation." ;
    :hasWorkflowStep :step_personalized_activity_planning , :step_restaurant_scout , :step_itinerary_compilation .

:step_personalized_activity_planning rdf:type :StartStep ;
    rdfs:label "Personalized Activity Planning Step" ;
    :hasAssociatedTask :personalized_activity_planning_task ;
    :stepOrder "1"^^xsd:integer ;
    :nextStep :step_restaurant_scout .

:step_restaurant_scout rdf:type :WorkflowStep ;
    rdfs:label "Restaurant and Scenic Location Scout Step" ;
    :hasAssociatedTask :restaurant_scenic_location_scout_task ;
    :stepOrder "2"^^xsd:integer ;
    :nextStep :step_itinerary_compilation .

:step_itinerary_compilation rdf:type :EndStep ;
    rdfs:label "Itinerary Compilation Step" ;
    :hasAssociatedTask :itinerary_compilation_task ;
    :stepOrder "3"^^xsd:integer .

################################################################################
# Sample Run Inputs (from main.run)
################################################################################

:SampleRunInputs rdf:type beam:Instance ;
    rdfs:label "ExampleRunInputs" ;
    dcterms:description """
    Example runtime inputs used in main.run and train():
    {
      'origin': 'São Paulo, GRU',
      'destination': 'New York, JFK',
      'age': 31,
      'hotel_location': 'Brooklyn',
      'flight_information': 'GOL 1234, leaving at June 30th, 2024, 10:00',
      'trip_duration': '14 days'
    }
    This is a sample input bundle used for kickoff/train in the repository.
    """ .

################################################################################
# Linking Tasks to Goals/Objectives chain (contributions)
################################################################################

# Each task contributes to an objective (above) which can connect to an agent goal (where relevant).
:obj_personalized_activity_planning :contributesToGoal :goal_personalized_activity_planner .
:obj_restaurant_scout :contributesToGoal :goal_restaurant_scout .
:obj_itinerary_compilation :contributesToGoal :goal_itinerary_compiler .

################################################################################
# Additional metadata preserved from code
################################################################################

:repo_information rdf:type :Context ;
    rdfs:label "SurpriseTravel Repository Metadata" ;
    dcterms:description """
    - Source modules: surprise_travel.crew, surprise_travel.main, surprise_travel.tools.custom_tool (example)
    - Agents defined via CrewBase decorators and annotated in config/agents.yaml
    - Tasks defined via decorators and annotated in config/tasks.yaml
    - Tools used: SerperDevTool, ScrapeWebsiteTool (and an example MyCustomTool file present but not used by default)
    - The crew runs with Process.sequential (execution order is represented via WorkflowStep.stepOrder and nextStep).
    - The itinerary_compilation_task specifies output_json=Itinerary (represented as Itinerary_Instance).
    - Training entrypoint exists (train) in main.py but training parameters such as n_iterations are runtime and not encoded as a first-class ontology property here; the train entrypoint and example inputs are captured in SampleRunInputs.
    """ .

# End of instance data.

################################################################################
# KickoffInputBundle (agento-ext) — Uniform runtime inputs for pipeline extraction
################################################################################

:KickoffInput_origin a agento-ext:KickoffInputBundle ;
    agento-ext:inputKey "origin" ;
    agento-ext:inputValue "São Paulo, GRU" ;
    agento-ext:isDefaultValue true .

:KickoffInput_destination a agento-ext:KickoffInputBundle ;
    agento-ext:inputKey "destination" ;
    agento-ext:inputValue "New York, JFK" ;
    agento-ext:isDefaultValue true .

:KickoffInput_age a agento-ext:KickoffInputBundle ;
    agento-ext:inputKey "age" ;
    agento-ext:inputValue "31" ;
    agento-ext:isDefaultValue true .

:KickoffInput_hotel_location a agento-ext:KickoffInputBundle ;
    agento-ext:inputKey "hotel_location" ;
    agento-ext:inputValue "Brooklyn" ;
    agento-ext:isDefaultValue true .

:KickoffInput_flight_information a agento-ext:KickoffInputBundle ;
    agento-ext:inputKey "flight_information" ;
    agento-ext:inputValue "GOL 1234, leaving at June 30th, 2024, 10:00" ;
    agento-ext:isDefaultValue true .

:KickoffInput_trip_duration a agento-ext:KickoffInputBundle ;
    agento-ext:inputKey "trip_duration" ;
    agento-ext:inputValue "14 days" ;
    agento-ext:isDefaultValue true .
