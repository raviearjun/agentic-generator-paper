@prefix : <http://www.w3id.org/agentic-ai/onto#> .
@prefix pp: <http://purl.org/net/p-plan#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix beam: <http://w3id.org/beam/core#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@base <http://www.w3id.org/agentic-ai/onto#> .
@prefix agento-ext: <http://www.w3id.org/agentic-ai/ext#> .

# Execution time: 90.72 seconds
# Model used: gpt-5-mini

# Issues / Assumptions:
# - The source code includes dynamic, user-supplied inputs (participants, context, objective). These are represented here as template/input placeholders in Prompt.promptInputData literals rather than concrete instances.
# - The ontology lacks an explicit property to represent task prerequisites or "context" linking tasks directly. To represent task ordering and dependencies we model the workflow as WorkflowSteps (hasAssociatedTask) and use nextStep/relatedStep/stepOrder to express ordering and dependencies.
# - The ontology does not have an explicit boolean or property to indicate asynchronous execution of a Task. Async execution flags are preserved in Task dc:description literals and in Prompt.promptContext where relevant.
# - The ontology does not have an explicit property for Task.expected_output. We modeled expected outputs using Prompt.promptOutputIndicator and linked prompts to tasks via taskPrompt.
# - Implementation-specific constructs (function signatures, module structure, Python code) are not added as ontology elements; their semantic content (prompts, descriptions, parameters, tools used, config keys) is preserved as literals.
# - No new classes or properties were created; only existing classes and properties from the provided ontology were used.

#################################################################
# Team / Workflow pattern for the Meeting Preparation solution
#################################################################

:MeetingPrepCrew rdf:type :Team ;
    rdfs:label "Meeting Preparation Crew" ;
    rdfs:comment "Crew instantiated in the solution to coordinate agents and tasks for meeting preparation." ;
    :hasWorkflowPattern :MeetingPreparationPattern ;
    :hasAgentMember :ResearcherAgent ,
                    :IndustryAnalystAgent ,
                    :MeetingStrategyAgent ,
                    :BriefingCoordinatorAgent ;
    :hasTeamGoal :Goal_MeetingPrepObjective ;
    :hasSystemConfig :Config_OPENAI_API_KEY .

:MeetingPreparationPattern rdf:type :WorkflowPattern ;
    rdfs:label "Meeting Preparation Workflow Pattern" ;
    rdfs:comment "Workflow pattern describing sequence of tasks for meeting preparation." ;
    :hasWorkflowStep :Step_Research ,
                     :Step_IndustryAnalysis ,
                     :Step_MeetingStrategy ,
                     :Step_SummaryAndBriefing .

#################################################################
# Goals / Objectives
#################################################################

:Goal_MeetingPrepObjective rdf:type :Goal ;
    rdfs:label "Prepare meeting briefing and strategy" ;
    <http://purl.org/dc/terms/description> """Prepare comprehensive research, industry analysis, strategic talking points, and a concise briefing document to support an upcoming meeting. This goal represents the overall purpose of the Meeting Preparation Crew created in main.py.""" .

:Goal_Researcher rdf:type :Goal ;
    <http://purl.org/dc/terms/description> "Conduct thorough research on people and companies involved in the meeting" .

:Goal_IndustryAnalyst rdf:type :Goal ;
    <http://purl.org/dc/terms/description> "Analyze the current industry trends, challenges, and opportunities relevant to the meeting context" .

:Goal_MeetingStrategy rdf:type :Goal ;
    <http://purl.org/dc/terms/description> "Develop talking points, questions, and strategic angles for the meeting" .

:Goal_BriefingCoordinator rdf:type :Goal ;
    <http://purl.org/dc/terms/description> "Compile research, analysis, and strategy into a concise briefing document" .

#################################################################
# Agents (LLM Agents)
#################################################################

:ResearcherAgent rdf:type :LLMAgent ;
    rdfs:label "Research Specialist (agent)" ;
    :agentID "researcher_agent_1" ;
    :agentRole "Research Specialist" ;
    :hasAgentGoal :Goal_Researcher ;
    :agentPrompt :Prompt_Researcher_Backstory ;
    :agentToolUsage :ExaSearchTool ;
    :hasAgentConfig :Config_OPENAI_API_KEY ;
    rdfs:comment "Agent created by MeetingPreparationAgents.research_agent()" .

:IndustryAnalystAgent rdf:type :LLMAgent ;
    rdfs:label "Industry Analyst (agent)" ;
    :agentID "industry_analyst_agent_1" ;
    :agentRole "Industry Analyst" ;
    :hasAgentGoal :Goal_IndustryAnalyst ;
    :agentPrompt :Prompt_IndustryAnalyst_Backstory ;
    :agentToolUsage :ExaSearchTool ;
    :hasAgentConfig :Config_OPENAI_API_KEY ;
    rdfs:comment "Agent created by MeetingPreparationAgents.industry_analysis_agent()" .

:MeetingStrategyAgent rdf:type :LLMAgent ;
    rdfs:label "Meeting Strategy Advisor (agent)" ;
    :agentID "meeting_strategy_agent_1" ;
    :agentRole "Meeting Strategy Advisor" ;
    :hasAgentGoal :Goal_MeetingStrategy ;
    :agentPrompt :Prompt_MeetingStrategy_Backstory ;
    :agentToolUsage :ExaSearchTool ;
    :hasAgentConfig :Config_OPENAI_API_KEY ;
    rdfs:comment "Agent created by MeetingPreparationAgents.meeting_strategy_agent()" .

:BriefingCoordinatorAgent rdf:type :LLMAgent ;
    rdfs:label "Briefing Coordinator (agent)" ;
    :agentID "briefing_coordinator_agent_1" ;
    :agentRole "Briefing Coordinator" ;
    :hasAgentGoal :Goal_BriefingCoordinator ;
    :agentPrompt :Prompt_BriefingCoordinator_Backstory ;
    :agentToolUsage :ExaSearchTool ;
    :hasAgentConfig :Config_OPENAI_API_KEY ;
    rdfs:comment "Agent created by MeetingPreparationAgents.summary_and_briefing_agent()" .

#################################################################
# Agent backstories modeled as Prompts (agentPrompt)
#################################################################

:Prompt_Researcher_Backstory rdf:type :Prompt ;
    rdfs:label "Research Specialist Backstory Prompt" ;
    :promptInstruction """As a Research Specialist, your mission is to uncover detailed information
about the individuals and entities participating in the meeting. Your insights
will lay the groundwork for strategic meeting preparation.""" ;
    :promptContext "Role: Research Specialist; Goal: Conduct thorough research on people and companies involved in the meeting" .

:Prompt_IndustryAnalyst_Backstory rdf:type :Prompt ;
    rdfs:label "Industry Analyst Backstory Prompt" ;
    :promptInstruction """As an Industry Analyst, your analysis will identify key trends,
challenges facing the industry, and potential opportunities that
could be leveraged during the meeting for strategic advantage.""" ;
    :promptContext "Role: Industry Analyst; Goal: Analyze industry trends and opportunities" .

:Prompt_MeetingStrategy_Backstory rdf:type :Prompt ;
    rdfs:label "Meeting Strategy Advisor Backstory Prompt" ;
    :promptInstruction """As a Strategy Advisor, your expertise will guide the development of
talking points, insightful questions, and strategic angles
to ensure the meeting's objectives are achieved.""" ;
    :promptContext "Role: Meeting Strategy Advisor; Goal: Develop talking points and strategies" .

:Prompt_BriefingCoordinator_Backstory rdf:type :Prompt ;
    rdfs:label "Briefing Coordinator Backstory Prompt" ;
    :promptInstruction """As the Briefing Coordinator, your role is to consolidate the research,
analysis, and strategic insights into a concise briefing document.""" ;
    :promptContext "Role: Briefing Coordinator; Goal: Compile information into briefing document" .

#################################################################
# Tool: ExaSearchTool and Capabilities
#################################################################

:ExaSearchTool rdf:type :Tool ;
    rdfs:label "ExaSearchTool" ;
    <http://purl.org/dc/terms/description> """Tool wrapping Exa (exa_py) search capabilities used by agents.
Provides three main operations: search(query), find_similar(url), and get_contents(ids).
The tool requires an EXA_API_KEY configuration value to access Exa APIs.""" ;
    :hasCapability :Capability_Exa_search ,
                   :Capability_Exa_find_similar ,
                   :Capability_Exa_get_contents ;
    :hasToolConfig :Config_EXA_API_KEY .

:Capability_Exa_search rdf:type :Capability ;
    rdfs:label "Exa.search" ;
    <http://purl.org/dc/terms/description> "Search for webpages using a query and return top results (num_results=3)." .

:Capability_Exa_find_similar rdf:type :Capability ;
    rdfs:label "Exa.find_similar" ;
    <http://purl.org/dc/terms/description> "Find webpages similar to a given URL (num_results=3)." .

:Capability_Exa_get_contents rdf:type :Capability ;
    rdfs:label "Exa.get_contents" ;
    <http://purl.org/dc/terms/description> """Retrieve page contents for a list of ids. Handles JSON or Python literal lists input;
validates input is a list of string ids; returns extracted contents (first ~1000 chars per segment).""" .

#################################################################
# Configurations (from .env.example and tool usage)
#################################################################

:Config_EXA_API_KEY rdf:type :Config ;
    rdfs:label "EXA_API_KEY (config)" ;
    :configKey "EXA_API_KEY" ;
    :configValue "Your Key (from .env.example)" ;
    rdfs:comment "Environment variable used by ExaSearchTool._exa() to instantiate Exa(api_key=...)" .

:Config_OPENAI_API_KEY rdf:type :Config ;
    rdfs:label "OPENAI_API_KEY (config)" ;
    :configKey "OPENAI_API_KEY" ;
    :configValue "Your key (from .env.example)" ;
    rdfs:comment "Environment variable referenced in .env.example; used by the broader agent runtime (crewai) to access an LLM, preserved here as configuration." .

#################################################################
# Tasks and their Prompts (extracted from tasks.py)
#################################################################

:Task_Research rdf:type :Task ;
    rdfs:label "research_task" ;
    <http://purl.org/dc/terms/description> """Conduct comprehensive research on each of the individuals and companies
involved in the upcoming meeting. Gather information on recent
news, achievements, professional background, and any relevant
business activities.

Participants: {participants}
Meeting Context: {context}

Note: asynchronous execution requested in source (async_execution=True).""" ;
    :taskPrompt :Prompt_Task_Research ;
    :performedByAgent :ResearcherAgent ;
    rdfs:comment "Created by MeetingPreparationTasks.research_task(agent, participants, context)" .

:Prompt_Task_Research rdf:type :Prompt ;
    rdfs:label "Research Task Prompt" ;
    :promptInstruction """Conduct comprehensive research on each of the individuals and companies
involved in the upcoming meeting. Gather information on recent
news, achievements, professional background, and any relevant
business activities.""" ;
    :promptInputData "participants: {participants}\nmeeting_context: {context}" ;
    :promptOutputIndicator """A detailed report summarizing key findings about each participant
and company, highlighting information that could be relevant for the meeting.""" .

:Task_IndustryAnalysis rdf:type :Task ;
    rdfs:label "industry_analysis_task" ;
    <http://purl.org/dc/terms/description> """Analyze the current industry trends, challenges, and opportunities
relevant to the meeting's context. Consider market reports, recent
developments, and expert opinions to provide a comprehensive
overview of the industry landscape.

Participants: {participants}
Meeting Context: {context}

Note: asynchronous execution requested in source (async_execution=True).""" ;
    :taskPrompt :Prompt_Task_IndustryAnalysis ;
    :performedByAgent :IndustryAnalystAgent ;
    rdfs:comment "Created by MeetingPreparationTasks.industry_analysis_task(agent, participants, context)" .

:Prompt_Task_IndustryAnalysis rdf:type :Prompt ;
    rdfs:label "Industry Analysis Task Prompt" ;
    :promptInstruction """Analyze the current industry trends, challenges, and opportunities
relevant to the meeting's context. Consider market reports, recent
developments, and expert opinions to provide a comprehensive
overview of the industry landscape.""" ;
    :promptInputData "participants: {participants}\nmeeting_context: {context}" ;
    :promptOutputIndicator """An insightful analysis that identifies major trends, potential
challenges, and strategic opportunities.""" .

:Task_MeetingStrategy rdf:type :Task ;
    rdfs:label "meeting_strategy_task" ;
    <http://purl.org/dc/terms/description> """Develop strategic talking points, questions, and discussion angles
for the meeting based on the research and industry analysis conducted.

Meeting Context: {context}
Meeting Objective: {objective}

Note: This task's context in the source is set to [research, industry_analysis], i.e., it depends on outputs from Task_Research and Task_IndustryAnalysis.""" ;
    :taskPrompt :Prompt_Task_MeetingStrategy ;
    :performedByAgent :MeetingStrategyAgent ;
    rdfs:comment "Created by MeetingPreparationTasks.meeting_strategy_task(agent, context, objective); context set to research and industry_analysis tasks." .

:Prompt_Task_MeetingStrategy rdf:type :Prompt ;
    rdfs:label "Meeting Strategy Task Prompt" ;
    :promptInstruction """Develop strategic talking points, questions, and discussion angles
for the meeting based on the research and industry analysis conducted.""" ;
    :promptInputData "meeting_context: {context}\nmeeting_objective: {objective}\nprerequisite_outputs: [Task_Research, Task_IndustryAnalysis]" ;
    :promptOutputIndicator """Complete report with a list of key talking points, strategic questions
to ask to help achieve the meeting's objective during the meeting.""" .

:Task_SummaryAndBriefing rdf:type :Task ;
    rdfs:label "summary_and_briefing_task" ;
    <http://purl.org/dc/terms/description> """Compile all the research findings, industry analysis, and strategic
talking points into a concise, comprehensive briefing document for
the meeting.
Ensure the briefing is easy to digest and equips the meeting
participants with all necessary information and strategies.

Meeting Context: {context}
Meeting Objective: {objective}

Note: This task's context in the source is set to [research, industry_analysis, meeting_strategy], i.e., depends on prior task outputs.""" ;
    :taskPrompt :Prompt_Task_SummaryAndBriefing ;
    :performedByAgent :BriefingCoordinatorAgent ;
    rdfs:comment "Created by MeetingPreparationTasks.summary_and_briefing_task(agent, context, objective)" .

:Prompt_Task_SummaryAndBriefing rdf:type :Prompt ;
    rdfs:label "Summary and Briefing Task Prompt" ;
    :promptInstruction """Compile all the research findings, industry analysis, and strategic
talking points into a concise, comprehensive briefing document for
the meeting. Ensure the briefing is easy to digest and equips the meeting
participants with all necessary information and strategies.""" ;
    :promptInputData "meeting_context: {context}\nmeeting_objective: {objective}\nprerequisite_outputs: [Task_Research, Task_IndustryAnalysis, Task_MeetingStrategy]" ;
    :promptOutputIndicator """A well-structured briefing document that includes sections for
participant bios, industry overview, talking points, and
strategic recommendations.""" .

#################################################################
# Workflow Steps connecting tasks and expressing ordering & dependencies
#################################################################

:Step_Research rdf:type :StartStep ;
    rdfs:label "Step: Research" ;
    :stepOrder "1"^^xsd:integer ;
    :hasAssociatedTask :Task_Research ;
    :nextStep :Step_IndustryAnalysis ;
    rdfs:comment "Initial step: run research_task (async allowed)" .

:Step_IndustryAnalysis rdf:type :WorkflowStep ;
    rdfs:label "Step: Industry Analysis" ;
    :stepOrder "2"^^xsd:integer ;
    :hasAssociatedTask :Task_IndustryAnalysis ;
    :nextStep :Step_MeetingStrategy ;
    rdfs:comment "Second step: run industry_analysis_task (async allowed)" .

:Step_MeetingStrategy rdf:type :WorkflowStep ;
    rdfs:label "Step: Meeting Strategy" ;
    :stepOrder "3"^^xsd:integer ;
    :hasAssociatedTask :Task_MeetingStrategy ;
    :relatedStep :Step_Research , :Step_IndustryAnalysis ;
    :nextStep :Step_SummaryAndBriefing ;
    rdfs:comment "Third step: depends on outputs from research and industry analysis." .

:Step_SummaryAndBriefing rdf:type :EndStep ;
    rdfs:label "Step: Summary and Briefing" ;
    :stepOrder "4"^^xsd:integer ;
    :hasAssociatedTask :Task_SummaryAndBriefing ;
    :relatedStep :Step_Research , :Step_IndustryAnalysis , :Step_MeetingStrategy ;
    rdfs:comment "Final step: compile outputs from prior steps into final briefing." .

#################################################################
# Additional metadata: requirements and repository-level notes captured as resources
#################################################################

:RequirementsConfig rdf:type :Config ;
    rdfs:label "requirements.txt (packages)" ;
    :configKey "requirements" ;
    :configValue "langchain-exa==0.0.1; exa_py==1.0.7; python-dotenv==1.0.1; crewai==0.130.0" ;
    rdfs:comment "List of package dependencies extracted from requirements.txt" .

:EnvExample rdf:type :Config ;
    rdfs:label ".env.example" ;
    :configKey ".env.example" ;
    :configValue "OPENAI_API_KEY=Your key\nEXA_API_KEY=Your Key" ;
    rdfs:comment "Environment variables example preserved from project; values must be provided at runtime." .

#################################################################
# End of instance data
#################################################################

################################################################################
# KickoffInputBundle (agento-ext) â€” Uniform runtime inputs for pipeline extraction
################################################################################

:KickoffInput_participants a agento-ext:KickoffInputBundle ;
    agento-ext:inputKey "participants" ;
    agento-ext:inputValue "" ;
    agento-ext:isDefaultValue false .

:KickoffInput_context a agento-ext:KickoffInputBundle ;
    agento-ext:inputKey "context" ;
    agento-ext:inputValue "" ;
    agento-ext:isDefaultValue false .

:KickoffInput_objective a agento-ext:KickoffInputBundle ;
    agento-ext:inputKey "objective" ;
    agento-ext:inputValue "" ;
    agento-ext:isDefaultValue false .
