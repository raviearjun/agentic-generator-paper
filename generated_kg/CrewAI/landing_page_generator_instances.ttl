@prefix : <http://www.w3id.org/agentic-ai/onto#> .
@prefix pp: <http://purl.org/net/p-plan#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix beam: <http://w3id.org/beam/core#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@base <http://www.w3id.org/agentic-ai/onto#> .
@prefix agento-ext: <http://www.w3id.org/agentic-ai/ext#> .

# Execution time: 141.68 seconds
# Model used: gpt-5-mini

# Issues / Assumptions:
# - The ontology does not include a dedicated "CrewBase" or "Process" class or an enumeration for process types (e.g., sequential). I modelled crews as instances of Team and represented process semantics in WorkflowPattern labels and comments (assumption).
# - There is no dedicated "ToolKit" class in the ontology. I modelled toolkit entries and toolkit-provided functions as Tool individuals and linked them to agents with agentToolUsage.
# - Implementation code, function signatures, or framework-specific constructs (e.g., CrewBase decorator, Agent/Task SDK internals, Process enum) are not modelled; only their semantic meaning (agents, tasks, tools, prompts, configs, workflows, produced resources) is modelled.
# - File-system specifics (exact runtime-generated filenames) are not fully determinable statically (they depend on templates and agent outputs). Where the code expects or produces files, I modelled resources with descriptive literals and the expected formats (e.g., "JSON array of component paths", "copied template folder", "zip archive").
# - Environment variables and API keys (SERPER_API_KEY, BROWSERLESS_API_KEY) are security-sensitive and not created as individuals. I noted them in descriptions where they affect tool behavior.
# - The ontology lacks a dedicated property for "expected output" structured metadata beyond promptOutputIndicator; I used promptOutputIndicator and Prompt.description (dc:description / dcterms:description) to preserve required output constraints.
# - Template folder contents and actual component file code are not included (source code should not be inserted into the ontology). File contents referenced in tasks are modelled as string literals in prompt contexts or config values where necessary.

#################################################################
# Instance data for the Landing Page Generator solution
#################################################################

### Language model used by agents
:gpt4 rdf:type :LanguageModel ;
      rdfs:label "gpt-4 (default in project runtime)" ;
      <http://purl.org/dc/terms/description> "The code warns that by default the system will use gpt-4 (cost implications). This LanguageModel instance represents that runtime choice." .

#################################################################
# Agents (LLM agents) and their persona/configuration/goals/prompts
#################################################################

:seniorIdeaAnalystAgent rdf:type :LLMAgent ;
    rdfs:label "Senior Idea Analyst (agent)" ;
    :agentID "senior_idea_analyst" ;
    :agentRole "Senior Idea Analyst" ;
    :hasAgentConfig :cfg_senior_idea_analyst ;
    :hasAgentGoal :goal_senior_idea_analyst ;
    :agentPrompt :prompt_agent_senior_idea_analyst ;
    :useLanguageModel :gpt4 ;
    rdfs:comment "Agent defined in config/agents.yaml and registered in ExpandIdeaCrew" .

:seniorStrategistAgent rdf:type :LLMAgent ;
    rdfs:label "Senior Communications Strategist (agent)" ;
    :agentID "senior_strategist" ;
    :agentRole "Senior Communications Strategist" ;
    :hasAgentConfig :cfg_senior_strategist ;
    :hasAgentGoal :goal_senior_strategist ;
    :agentPrompt :prompt_agent_senior_strategist ;
    :useLanguageModel :gpt4 ;
    rdfs:comment "Agent defined in config/agents.yaml and registered in ExpandIdeaCrew" .

:seniorReactEngineerAgent rdf:type :LLMAgent ;
    rdfs:label "Senior React Engineer (agent)" ;
    :agentID "senior_react_engineer" ;
    :agentRole "Senior React Engineer" ;
    :hasAgentConfig :cfg_senior_react_engineer ;
    :hasAgentGoal :goal_senior_react_engineer ;
    :agentPrompt :prompt_agent_senior_react_engineer ;
    :useLanguageModel :gpt4 ;
    rdfs:comment "Agent defined in config/agents.yaml and used in ChooseTemplateCrew and CreateContentCrew" .

:seniorContentEditorAgent rdf:type :LLMAgent ;
    rdfs:label "Senior Content Editor (agent)" ;
    :agentID "senior_content_editor" ;
    :agentRole "Senior Content Editor" ;
    :hasAgentConfig :cfg_senior_content_editor ;
    :hasAgentGoal :goal_senior_content_editor ;
    :agentPrompt :prompt_agent_senior_content_editor ;
    :useLanguageModel :gpt4 ;
    rdfs:comment "Agent defined in config/agents.yaml and used in CreateContentCrew" .

#################################################################
# Agent persona configs (Config instances)
#################################################################

:cfg_senior_idea_analyst rdf:type :Config ;
    :configKey "role" ; :configValue "Senior Idea Analyst" ;
    :configKey "goal" ; :configValue "Understand and expand upon the essence of ideas, make sure they are great and focus on real pain points others could benefit from." ;
    :configKey "backstory" ; :configValue "Recognized as a thought leader, I thrive on refining concepts into campaigns that resonate with audiences." .

:cfg_senior_strategist rdf:type :Config ;
    :configKey "role" ; :configValue "Senior Communications Strategist" ;
    :configKey "goal" ; :configValue "Craft compelling stories using the Golden Circle method to captivate and engage people around an idea." ;
    :configKey "backstory" ; :configValue "A narrative craftsman for top-tier launches, I reveal the 'why' behind projects, aligning with visions and speaking to audiences." .

:cfg_senior_react_engineer rdf:type :Config ;
    :configKey "role" ; :configValue "Senior React Engineer" ;
    :configKey "goal" ; :configValue "Build an intuitive, aesthetically pleasing, and high-converting landing page." ;
    :configKey "backstory" ; :configValue "A coding virtuoso and design enthusiast, expert in Tailwind, you're known for crafting beautiful websites that provide seamless user experiences." .

:cfg_senior_content_editor rdf:type :Config ;
    :configKey "role" ; :configValue "Senior Content Editor" ;
    :configKey "goal" ; :configValue "Ensure the landing page content is clear, concise, and captivating." ;
    :configKey "backstory" ; :configValue "With a keen eye for detail and a passion for storytelling, you have refined content for leading brands, turning bland text into engaging stories." .

#################################################################
# Agent goals (Goal instances)
#################################################################

:goal_senior_idea_analyst rdf:type :Goal ;
    <http://purl.org/dc/terms/title> "Expand and validate product idea" ;
    <http://purl.org/dc/terms/description> "Understand and expand the idea into a comprehensive idea report, detailing value proposition and features." .

:goal_senior_strategist rdf:type :Goal ;
    <http://purl.org/dc/terms/title> "Craft messaging with Golden Circle" ;
    <http://purl.org/dc/terms/description> "Provide WHY, HOW, WHAT messaging and core message for the idea." .

:goal_senior_react_engineer rdf:type :Goal ;
    <http://purl.org/dc/terms/title> "Choose and adapt template to idea" ;
    <http://purl.org/dc/terms/description> "Select a Tailwind template that fits the idea and copy it into the working folder; then update components." .

:goal_senior_content_editor rdf:type :Goal ;
    <http://purl.org/dc/terms/title> "Create and QA content for landing page" ;
    <http://purl.org/dc/terms/description> "Produce content for components, update components, and QA them according to rules." .

#################################################################
# Tools (Tool instances) and capabilities
#################################################################

:SearchInternetTool rdf:type :Tool ;
    rdfs:label "Search the internet (SearchTools.search_internet)" ;
    <http://purl.org/dc/terms/description> "Performs internet search using an external search API (serper.dev). Requires SERPER_API_KEY environment variable." .

:ScrapeWebsiteTool rdf:type :Tool ;
    rdfs:label "Scrape website content (BrowserTools.scrape_and_summarize_website)" ;
    <http://purl.org/dc/terms/description> "Scrapes website HTML via browserless API and summarizes content using an internal summarization Task. Requires BROWSERLESS_API_KEY environment variable." .

:WriteFileTool rdf:type :Tool ;
    rdfs:label "Write file to workdir (FileTools.write_file)" ;
    <http://purl.org/dc/terms/description> "Writes files into ./workdir with path sanitization and allowed extensions." .

:LearnTemplatesTool rdf:type :Tool ;
    rdfs:label "Learn landing page options (TemplateTools.learn_landing_page_options)" ;
    <http://purl.org/dc/terms/description> "Reads config/templates.json to list available templates." .

:CopyTemplateTool rdf:type :Tool ;
    rdfs:label "Copy landing page template to project folder (TemplateTools.copy_landing_page_template_to_project_folder)" ;
    <http://purl.org/dc/terms/description> "Copies a template folder from ./templates to ./workdir with safety checks." .

:ReadFileTool rdf:type :Tool ;
    rdfs:label "Read file (file management toolkit: read_file)" ;
    <http://purl.org/dc/terms/description> "Read file contents from workdir (used by agent toolkits)." .

:ListDirectoryTool rdf:type :Tool ;
    rdfs:label "List directory (file management toolkit: list_directory)" ;
    <http://purl.org/dc/terms/description> "List directories in workdir (used by agent toolkits)." .

### Capabilities and associations (Tool -> Capability; Agents -> Capability)
:cap_search rdf:type :Capability ;
    rdfs:label "web search" ;
    rdfs:comment "Capability to search internet and return snippets." .

:cap_scrape rdf:type :Capability ;
    rdfs:label "web scraping and summarization" ;
    rdfs:comment "Capability to scrape a website and summarize content." .

:cap_write_file rdf:type :Capability ;
    rdfs:label "file write" ;
    rdfs:comment "Capability to write content safely to files in workdir." .

:cap_learn_templates rdf:type :Capability ;
    rdfs:label "learn templates listing" ;
    rdfs:comment "Capability to read templates configuration and list template options." .

:cap_copy_template rdf:type :Capability ;
    rdfs:label "copy template folder" ;
    rdfs:comment "Capability to copy template folders into project workspace." .

:cap_read_file rdf:type :Capability ;
    rdfs:label "read file" ;
    rdfs:comment "Capability to read file content from the workspace." .

:cap_list_directory rdf:type :Capability ;
    rdfs:label "list directory" ;
    rdfs:comment "Capability to list directories in the workspace." .

# Associate Tools with Capabilities
:SearchInternetTool :hasCapability :cap_search .
:ScrapeWebsiteTool :hasCapability :cap_scrape .
:WriteFileTool :hasCapability :cap_write_file .
:LearnTemplatesTool :hasCapability :cap_learn_templates .
:CopyTemplateTool :hasCapability :cap_copy_template .
:ReadFileTool :hasCapability :cap_read_file .
:ListDirectoryTool :hasCapability :cap_list_directory .

# Agents gain capabilities via their tool assignments
:seniorIdeaAnalystAgent :hasAgentCapability :cap_search , :cap_scrape .
:seniorStrategistAgent :hasAgentCapability :cap_search .
:seniorReactEngineerAgent :hasAgentCapability :cap_search , :cap_scrape , :cap_learn_templates , :cap_copy_template , :cap_write_file , :cap_read_file , :cap_list_directory .
:seniorContentEditorAgent :hasAgentCapability :cap_write_file , :cap_read_file , :cap_list_directory .

# Agents use specific tools (agent -> Tool)
:seniorIdeaAnalystAgent :agentToolUsage :SearchInternetTool , :ScrapeWebsiteTool .
:seniorStrategistAgent :agentToolUsage :SearchInternetTool , :ScrapeWebsiteTool .
:seniorReactEngineerAgent :agentToolUsage :SearchInternetTool , :ScrapeWebsiteTool , :LearnTemplatesTool , :CopyTemplateTool , :WriteFileTool , :ReadFileTool , :ListDirectoryTool .
:seniorContentEditorAgent :agentToolUsage :WriteFileTool , :ReadFileTool , :ListDirectoryTool .

#################################################################
# Knowledge base and resources (templates config, templates folder, generated outputs)
#################################################################

:TemplatesConfig rdf:type :KnowledgeBase ;
    rdfs:label "config/templates.json (templates listing)" ;
    <http://purl.org/dc/terms/description> """[
  { "name": "Spotlight", "folder": "tailwindui-spotlight/spotlight-js", "description": "A personal website ..." },
  { "name": "Protocol",  "folder": "tailwindui-protocol/protocol-js", "description": "..." },
  { "name": "Keynote", "folder": "tailwindui-keynote/keynote-js", "description": "Conference / Meetup Template" }
  /* abbreviated: full file present at config/templates.json in source */]""" .

:TemplatesFolder rdf:type beam:Resource ;
    rdfs:label "templates/ (folder of Tailwind templates)" ;
    <http://purl.org/dc/terms/description> "Local templates base folder. The code expects user to place individual template folders here. Referenced by TemplateTools.copy_landing_page_template_to_project_folder." .

:GeneratedProjectZip rdf:type beam:Resource ;
    rdfs:label "workdir.zip (final packaged project archive)" ;
    <http://purl.org/dc/terms/description> "At the end of execution the system compresses ./workdir into a zip and returns it to the user." .

#################################################################
# Task definitions and Prompts (preserving full task descriptions)
#################################################################

:task_expandIdea rdf:type :Task ;
    rdfs:label "expand_idea_task" ;
    :performedByAgent :seniorIdeaAnalystAgent ;
    :taskPrompt :prompt_task_expand_idea ;
    :producedResource :ExpandedIdeaReportResource .

:prompt_task_expand_idea rdf:type :Prompt ;
    rdfs:label "Expand idea - task prompt" ;
    :promptInstruction """THIS IS A GREAT IDEA! Analyze and expand it 
by conducting a comprehensive research.

Final answer MUST be a comprehensive idea report 
detailing why this is a great idea, the value 
proposition, unique selling points, why people should 
care about it and distinguishing features. 

IDEA:
----------
{idea}""" ;
    :promptOutputIndicator "A comprehensive idea report (text) describing WHY, value proposition, USP, and distinguishing features." .

:ExpandedIdeaReportResource rdf:type beam:Resource ;
    rdfs:label "Expanded idea report (text)" ;
    <http://purl.org/dc/terms/description> "Output of expand_idea_task. The code uses this expanded idea as input to the next crews." .

:task_refineIdea rdf:type :Task ;
    rdfs:label "refine_idea_task" ;
    :performedByAgent :seniorStrategistAgent ;
    :taskPrompt :prompt_task_refine_idea ;
    :requiresResource :ExpandedIdeaReportResource ;
    :producedResource :RefinedIdeaReportResource .

:prompt_task_refine_idea rdf:type :Prompt ;
    rdfs:label "Refine idea - task prompt" ;
    :promptInstruction """Expand idea report with a Why, How, and What 
messaging strategy using the Golden Circle 
Communication technique, based on the idea report.

Your final answer MUST be the updated complete 
comprehensive idea report with WHY, HOW, WHAT, 
a core message, key features and supporting arguments.

YOU MUST RETURN THE COMPLETE IDEA REPORT AND 
THE DETAILS, You'll get a $100 tip if you do your best work!""" ;
    :promptInputData "{expanded_idea}" ;
    :promptOutputIndicator "An updated complete idea report that includes WHY, HOW, WHAT, core message, key features and supporting arguments." .

:RefinedIdeaReportResource rdf:type beam:Resource ;
    rdfs:label "Refined idea report (text)" ;
    <http://purl.org/dc/terms/description> "Output of refine_idea_task. Used by other tasks to craft landing page content." .

:task_chooseTemplate rdf:type :Task ;
    rdfs:label "choose_template_task" ;
    :performedByAgent :seniorReactEngineerAgent ;
    :taskPrompt :prompt_task_choose_template ;
    :requiresResource :RefinedIdeaReportResource ;
    :producedResource :CopiedTemplateResource .

:prompt_task_choose_template rdf:type :Prompt ;
    rdfs:label "Choose template - task prompt" ;
    :promptInstruction """Learn the templates options choose and copy 
the one that suits the idea below the best, 
YOU MUST COPY, and then YOU MUST read the src/component 
in the directory you just copied, to decide what 
component files should be updated to make the 
landing page about the idea below.

- YOU MUST READ THE DIRECTORY BEFORE CHOOSING THE FILES.      
- YOU MUST NOT UPDATE any Pricing components.
- YOU MUST UPDATE ONLY the 4 most important components.

Your final answer MUST be ONLY a JSON array of 
components full file paths that need to be updated.

IDEA
----------
{idea}""" ;
    :promptOutputIndicator "A JSON array (string) of 4 full file paths for components to update (e.g., [\"./workdir/Keynote/src/components/Hero.jsx\", ...])." ;
    :promptInputData "Uses TemplatesConfig and templates folder contents." .

:CopiedTemplateResource rdf:type beam:Resource ;
    rdfs:label "Copied template folder in workdir" ;
    <http://purl.org/dc/terms/description> "Result of copying a template folder into ./workdir. The copy is executed by TemplateTools.copy_landing_page_template_to_project_folder." .

:task_updatePage rdf:type :Task ;
    rdfs:label "update_page_task" ;
    :performedByAgent :seniorReactEngineerAgent ;
    :taskPrompt :prompt_task_update_page ;
    :requiresResource :CopiedTemplateResource ;
    :producedResource :UpdatedPageComponentListResource .

:prompt_task_update_page rdf:type :Prompt ;
    rdfs:label "Update page - task prompt" ;
    :promptInstruction """READ the ./[chosen_template]/src/app/page.jsx OR
./[chosen_template]/src/app/(main)/page.jsx (main with the parenthesis) 
to learn its content and then write an updated 
version to the filesystem that removes any 
section related components that are not in our 
list from the returns. Keep the imports.

Final answer MUST BE ONLY a valid json list with 
the full path of each of the components we will be 
using, the same way you got them.

RULES
-----
- NEVER ADD A FINAL DOT to the file content.
- NEVER WRITE \\n (newlines as string) on the file, just the code.
- NEVER FORGET TO CLOSE THE FINAL BRACKET (}}) in the file.
- NEVER USE COMPONENTS THAT ARE NOT IMPORTED.
- ALL COMPONENTS USED SHOULD BE IMPORTED, don't make up components.
- Save the file as with `.jsx` extension.
- Return the same valid JSON list of the components your got.

Also update any necessary text to reflect this landing page
is about the idea below.

IDEA 
----------
{idea}""" ;
    :promptOutputIndicator "A JSON list of component file paths that remain used in page.jsx after pruning; also the task writes the updated page.jsx to filesystem via WriteFileTool." .

:UpdatedPageComponentListResource rdf:type beam:Resource ;
    rdfs:label "List of component paths used in main page.jsx" ;
    <http://purl.org/dc/terms/description> "Produced by update_page_task: the set of component file paths that will be used on the final single page." .

:task_componentContent rdf:type :Task ;
    rdfs:label "component_content_task" ;
    :performedByAgent :seniorContentEditorAgent ;
    :taskPrompt :prompt_task_component_content ;
    :requiresResource :RefinedIdeaReportResource ;
    :requiresResource :UpdatedPageComponentListResource ;
    :producedResource :ComponentTextSuggestionsResource .

:prompt_task_component_content rdf:type :Prompt ;
    rdfs:label "Component content - task prompt" ;
    :promptInstruction """A engineer will update the {component} (code below),
return a list of good options of texts to replace 
EACH INDIVIDUAL existing text on the component, 
the suggestion MUST be based on the idea below, 
and also MUST be similar in length with the original 
text, we need to replace ALL TEXT.

NEVER USE Apostrophes for contraction! You'll get a $100 
tip if you do your best work!

IDEA 
-----
{expanded_idea}

REACT COMPONENT CONTENT
-----
{file_content}""" ;
    :promptOutputIndicator "For each component file, a mapping of existing text -> alternative replacement options (strings), similar in length and aligned to idea. No contractions with apostrophes. Returned as structured text in task output." .

:ComponentTextSuggestionsResource rdf:type beam:Resource ;
    rdfs:label "Component text suggestions (structured text)" ;
    <http://purl.org/dc/terms/description> "Produced by component_content_task and used by update_component_task." .

:task_updateComponent rdf:type :Task ;
    rdfs:label "update_component_task" ;
    :performedByAgent :seniorContentEditorAgent ;
    :taskPrompt :prompt_task_update_component ;
    :requiresResource :ComponentTextSuggestionsResource ;
    :requiresResource :UpdatedPageComponentListResource ;
    :producedResource :UpdatedComponentFilesResource .

:prompt_task_update_component rdf:type :Prompt ;
    rdfs:label "Update component - task prompt" ;
    :promptInstruction """YOU MUST USE the tool to write an updated 
version of the react component to the file 
system in the following path: {component} 
replacing the text content with the suggestions 
provided.

You only modify the text content, you don't add 
or remove any components.

RULES
-----
- Remove all the links, this should be single page landing page.
- Don't make up images, videos, gifs, icons, logos, etc.
- keep the same style and tailwind classes.
- MUST HAVE 'use client' at the be beginning of the code.
- href in buttons, links, NavLinks, and navigations should be `#`.
- NEVER WRITE \\n (newlines as string) on the file, just the code.
- NEVER FORGET TO CLOSE THE FINAL BRACKET (}}) in the file.
- Keep the same component imports and don't use new components.
- NEVER USE COMPONENTS THAT ARE NOT IMPORTED.
- ALL COMPONENTS USED SHOULD BE IMPORTED, don't make up components.
- Save the file as with `.jsx` extension.

If you follow the rules I'll give you a $100 tip!!! 
MY LIFE DEPEND ON YOU FOLLOWING IT!

CONTENT TO BE UPDATED
-----
{file_content}""" ;
    :promptOutputIndicator "The updated component file content (the task writes the file using WriteFileTool); final answer is the updated component content." .

:UpdatedComponentFilesResource rdf:type beam:Resource ;
    rdfs:label "Updated React component files (on disk)" ;
    <http://purl.org/dc/terms/description> "Files written to ./workdir by update_component_task using WriteFileTool. Filenames correspond to the components list." .

:task_qaComponent rdf:type :Task ;
    rdfs:label "qa_component_task" ;
    :performedByAgent :seniorContentEditorAgent ;
    :taskPrompt :prompt_task_qa_component ;
    :requiresResource :UpdatedComponentFilesResource ;
    :producedResource :QAConfirmationResource .

:prompt_task_qa_component rdf:type :Prompt ;
    rdfs:label "QA component - task prompt" ;
    :promptInstruction """Check the React component code to make sure 
it's valid and abide by the rules below, 
if it doesn't then write the correct version to 
the file system using the write file tool into 
the following path: {component}.

Your final answer should be a confirmation that 
the component is valid and abides by the rules and if
you had to write an updated version to the file system.

RULES
-----
- NEVER USE Apostrophes for contraction!
- ALL COMPONENTS USED SHOULD BE IMPORTED.
- MUST HAVE 'use client' at the be beginning of the code.
- href in buttons, links, NavLinks, and navigations should be `#`.
- NEVER WRITE \\n (newlines as string) on the file, just the code.
- NEVER FORGET TO CLOSE THE FINAL BRACKET (}}) in the file.
- NEVER USE COMPONENTS THAT ARE NOT IMPORTED.
- ALL COMPONENTS USED SHOULD BE IMPORTED.
- Always use `export function` for the component class.

You'll get a $100 tip if you follow all the rules!""" ;
    :promptOutputIndicator "Text confirmation of QA results; optionally writes corrected file(s) using WriteFileTool." .

:QAConfirmationResource rdf:type beam:Resource ;
    rdfs:label "QA confirmation / corrections applied" ;
    <http://purl.org/dc/terms/description> "Confirmation that updated components pass QA rules. If not, corrected files are written to disk." .

#################################################################
# Config files (top-level) used by the system
#################################################################

:agents_yaml_config rdf:type :Config ;
    rdfs:label "config/agents.yaml" ;
    :configKey "path" ; :configValue "config/agents.yaml" ;
    :configKey "content" ; :configValue """senior_idea_analyst:
  role: "Senior Idea Analyst"
  goal: "Understand and expand upon the essence of ideas..."
  backstory: "Recognized as a thought leader..."
senior_strategist:
  role: "Senior Communications Strategist"
  goal: "Craft compelling stories..."
  backstory: "A narrative craftsman..."
senior_react_engineer:
  role: "Senior React Engineer"
  ...
senior_content_editor:
  role: "Senior Content Editor"
  ...
""" .

:tasks_yaml_config rdf:type :Config ;
    rdfs:label "config/tasks.yaml" ;
    :configKey "path" ; :configValue "config/tasks.yaml" ;
    :configKey "content" ; :configValue """expand_idea_task:
  description: (multiline) ...
refine_idea_task:
  description: (multiline) ...
choose_template_task:
  description: (multiline) ...
update_page_task:
  description: (multiline) ...
component_content_task:
  description: (multiline) ...
update_component_task:
  description: (multiline) ...
qa_component_task:
  description: (multiline) ...
""" .

#################################################################
# Workflow patterns, steps, and teams (representing crews)
#################################################################

# ExpandIdeaCrew modeled as a Team with a WorkflowPattern
:ExpandIdeaCrewTeam rdf:type :Team ;
    rdfs:label "ExpandIdeaCrew (team)" ;
    :hasAgentMember :seniorIdeaAnalystAgent , :seniorStrategistAgent ;
    :hasWorkflowPattern :ExpandIdeaWorkflowPattern ;
    <http://purl.org/dc/terms/description> "Derived from src/landing_page_generator/crew.py ExpandIdeaCrew class. Process: sequential (expand_idea -> refine_idea)." .

:ExpandIdeaWorkflowPattern rdf:type :WorkflowPattern ;
    rdfs:label "Expand Idea workflow pattern" ;
    :hasWorkflowStep :ExpandIdeaStep_1 , :ExpandIdeaStep_2 ;
    <http://purl.org/dc/terms/description> "Pattern contains two sequential steps: expand_idea then refine_idea." .

:ExpandIdeaStep_1 rdf:type :WorkflowStep , :StartStep ;
    rdfs:label "Expand idea - step" ;
    :hasAssociatedTask :task_expandIdea ;
    :stepOrder 1 ;
    <http://purl.org/dc/terms/description> "Collect the user idea and run expand_idea_task." .

:ExpandIdeaStep_2 rdf:type :WorkflowStep ;
    rdfs:label "Refine idea - step" ;
    :hasAssociatedTask :task_refineIdea ;
    :stepOrder 2 ;
    :nextStep :ExpandIdeaStep_2 ;
    <http://purl.org/dc/terms/description> "Refine the idea using Golden Circle messaging; runs refine_idea_task." .

# ChooseTemplateCrew modeled as a Team with a WorkflowPattern
:ChooseTemplateCrewTeam rdf:type :Team ;
    rdfs:label "ChooseTemplateCrew (team)" ;
    :hasAgentMember :seniorReactEngineerAgent ;
    :hasWorkflowPattern :ChooseTemplateWorkflowPattern ;
    <http://purl.org/dc/terms/description> "Derived from src/landing_page_generator/crew.py ChooseTemplateCrew class. Process: sequential (choose_template -> update_page)." .

:ChooseTemplateWorkflowPattern rdf:type :WorkflowPattern ;
    rdfs:label "Choose Template workflow pattern" ;
    :hasWorkflowStep :ChooseTemplateStep_1 , :ChooseTemplateStep_2 ;
    <http://purl.org/dc/terms/description> "Select a template, copy it to workdir, then determine components to update." .

:ChooseTemplateStep_1 rdf:type :WorkflowStep ;
    rdfs:label "Choose template - step" ;
    :hasAssociatedTask :task_chooseTemplate ;
    :stepOrder 1 ;
    <http://purl.org/dc/terms/description> "Use LearnTemplatesTool and CopyTemplateTool to pick and copy a template." .

:ChooseTemplateStep_2 rdf:type :WorkflowStep ;
    rdfs:label "Update page (choose components) - step" ;
    :hasAssociatedTask :task_updatePage ;
    :stepOrder 2 ;
    <http://purl.org/dc/terms/description> "Read copied template's page.jsx to determine which components should remain and write updated page.jsx." .

# CreateContentCrew modeled as a Team with a WorkflowPattern
:CreateContentCrewTeam rdf:type :Team ;
    rdfs:label "CreateContentCrew (team)" ;
    :hasAgentMember :seniorContentEditorAgent , :seniorReactEngineerAgent ;
    :hasWorkflowPattern :CreateContentWorkflowPattern ;
    <http://purl.org/dc/terms/description> "Derived from src/landing_page_generator/crew.py CreateContentCrew class. Process: sequential (create_content -> update_component -> qa_component)." .

:CreateContentWorkflowPattern rdf:type :WorkflowPattern ;
    rdfs:label "Create Content workflow pattern" ;
    :hasWorkflowStep :CreateContentStep_1 , :CreateContentStep_2 , :CreateContentStep_3 ;
    <http://purl.org/dc/terms/description> "Produce component content, write components, and QA them." .

:CreateContentStep_1 rdf:type :WorkflowStep ;
    rdfs:label "Create content - step" ;
    :hasAssociatedTask :task_componentContent ;
    :stepOrder 1 ;
    <http://purl.org/dc/terms/description> "Generate content options for each component file based on the expanded idea." .

:CreateContentStep_2 rdf:type :WorkflowStep ;
    rdfs:label "Update component - step" ;
    :hasAssociatedTask :task_updateComponent ;
    :stepOrder 2 ;
    <http://purl.org/dc/terms/description> "Write updated components to disk using WriteFileTool following strict rules." .

:CreateContentStep_3 rdf:type :WorkflowStep , :EndStep ;
    rdfs:label "QA component - step" ;
    :hasAssociatedTask :task_qaComponent ;
    :stepOrder 3 ;
    <http://purl.org/dc/terms/description> "Validate components, fix and confirm compliance with rules." .

#################################################################
# Higher-level workflow (LandingPageCrew orchestration)
#################################################################

:LandingPageCrewTeam rdf:type :Team ;
    rdfs:label "LandingPageCrew (orchestration)" ;
    :hasWorkflowPattern :LandingPageWorkflowPattern ;
    <http://purl.org/dc/terms/description> "High-level orchestration that runs ExpandIdeaCrew -> ChooseTemplateCrew -> CreateContentCrew sequentially; implemented in LandingPageCrew.run()." ;
    :hasAgentMember :seniorIdeaAnalystAgent , :seniorStrategistAgent , :seniorReactEngineerAgent , :seniorContentEditorAgent .

:LandingPageWorkflowPattern rdf:type :WorkflowPattern ;
    rdfs:label "Landing page overall workflow" ;
    :hasSubPattern :ExpandIdeaWorkflowPattern , :ChooseTemplateWorkflowPattern , :CreateContentWorkflowPattern ;
    :hasRelatedPattern :ExpandIdeaWorkflowPattern , :ChooseTemplateWorkflowPattern , :CreateContentWorkflowPattern ;
    :nextPattern :ChooseTemplateWorkflowPattern ;
    <http://purl.org/dc/terms/description> "Top-level sequence: ExpandIdea -> ChooseTemplate -> CreateContent. ExpandIdeaWorkflowPattern is the first sub-pattern; nextPattern points to the subsequent pattern." .

# link patterns in order
:ExpandIdeaWorkflowPattern :nextPattern :ChooseTemplateWorkflowPattern .
:ChooseTemplateWorkflowPattern :nextPattern :CreateContentWorkflowPattern .

#################################################################
# Produced resources and artifacts descriptions
#################################################################

:CopiedTemplateFolderResource rdf:type beam:Resource ;
    rdfs:label "Copied template folder (workdir/<template>)" ;
    <http://purl.org/dc/terms/description> "A template folder copied from ./templates into ./workdir. Expected structure includes src/components and src/app/page.jsx." .

:ComponentsPathListResource rdf:type beam:Resource ;
    rdfs:label "Components full path list (JSON array)" ;
    <http://purl.org/dc/terms/description> "The JSON array that choose_template_task must return listing the most important 4 components' full paths to update; later used by CreateContentCrew." .

# Relationship: choose_template_task produces the components list and copies template to workdir
:task_chooseTemplate :producedResource :CopiedTemplateFolderResource , :ComponentsPathListResource .

# update_page_task writes an updated page.jsx and returns the pruned component list (UpdatedPageComponentListResource defined above)
:task_updatePage :producedResource :UpdatedPageComponentListResource .

# The CreateContentCrew uses Created/UpdatedComponentFilesResource and the zip is the final packaged output
:UpdatedComponentFilesResource :producedResource :GeneratedProjectZip .

#################################################################
# Misc: file management toolkit tools presence (not separate class, modelled as Tool individuals)
#################################################################

:FileManagementToolkit rdf:type :Tool ;
    rdfs:label "File management toolkit container (provides read_file, list_directory tools)" ;
    <http://purl.org/dc/terms/description> "In the code this is an instantiation of FileManagementToolkit(root_dir='workdir', selected_tools=['read_file','list_directory']). Modeled here as a Tool-like resource containing ReadFileTool and ListDirectoryTool." ;
    :toolUsage :ReadFileTool , :ListDirectoryTool .

#################################################################
# Provenance and participation hints (how tasks relate to agents)
#################################################################

# agents participatedIn tasks (using beam:participatedIn semantics and humanParticipatedIn for humans if any)
:seniorIdeaAnalystAgent beam:participatedIn :task_expandIdea .
:seniorStrategistAgent beam:participatedIn :task_refineIdea .
:seniorReactEngineerAgent beam:participatedIn :task_chooseTemplate , :task_updatePage .
:seniorContentEditorAgent beam:participatedIn :task_componentContent , :task_updateComponent , :task_qaComponent .

#################################################################
# Additional notes recorded as descriptions inside config/prompt/Tool resources
#################################################################

:SearchTools_notes rdf:type :Context ;
    rdfs:label "SearchTools implementation notes" ;
    <http://purl.org/dc/terms/description> "Uses Serper API endpoint POST https://google.serper.dev/search with X-API-KEY from SERPER_API_KEY env var; returns organic results which are formatted into Title/Link/Snippet." .

:BrowserTools_notes rdf:type :Context ;
    rdfs:label "BrowserTools implementation notes" ;
    <http://purl.org/dc/terms/description> "Calls https://chrome.browserless.io/content?token={BROWSERLESS_API_KEY} to fetch page content, uses unstructured.partition.html to split, then runs an internal Agent/Task summarization for each chunk to produce summaries." .

:FileTools_notes rdf:type :Context ;
    rdfs:label "FileTools security & allowed extensions" ;
    <http://purl.org/dc/terms/description> "File writing includes path sanitization (no absolute paths, no '..', allowed extensions set: .jsx, .js, .tsx, .ts, .css, .scss, .html, .json, .md, .txt, .yaml, .yml). Writes under ./workdir." .

#################################################################
# End of instance data
#################################################################

################################################################################
# KickoffInputBundle (agento-ext) â€” Uniform runtime inputs for pipeline extraction
################################################################################

:KickoffInput_idea a agento-ext:KickoffInputBundle ;
    agento-ext:inputKey "idea" ;
    agento-ext:inputValue "" ;
    agento-ext:isDefaultValue false .
