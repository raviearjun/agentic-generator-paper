@prefix : <http://www.w3id.org/agentic-ai/onto#> .
@prefix pp: <http://purl.org/net/p-plan#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix beam: <http://w3id.org/beam/core#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@base <http://www.w3id.org/agentic-ai/onto#> .
@prefix agento-ext: <http://www.w3id.org/agentic-ai/ext#> .

# Execution time: 104.84 seconds
# Model used: gpt-5-mini

# Issues / Assumptions:
# - The ontology lacks a direct way to represent key/value mappings on Config with explicit pairing; configKey and configValue are available but cannot be linked one-to-one to form structured key/value entries. I represent multiple keys/values on a Config individual; consumers must assume ordering or name-matching by literal value.
# - The ontology does not model runtime/implementation details (e.g., driver classes, environment variables, cookie handling, Python function names, CLI invocation, or method semantics). Those are summarized as config literals or noted in this block.
# - The ontology does not provide a property to represent boolean flags (e.g., allow_delegation) or integers other than stepOrder. I store such flags as configKey/configValue string pairs on Config individuals.
# - The ontology does not model training parameters (train iterations) or explicit process enumeration (Process.sequential). I model the workflow as a WorkflowPattern with ordered WorkflowStep individuals; training info is kept in a Config literal.
# - Detailed mapping of which specific Tool is invoked inside which Task (beyond which tools are available to an agent) is not expressible exactly with existing properties. I connect agents to their available Tools via agentToolUsage, and Tasks to the performing agent. Consumers should infer tool usage from agent-tool associations.
# - Low-level scraping/navigation code (Driver, Client) and credentials are implementation details and not modeled beyond noting the environment variable name in a Tool config. No sensitive values are included.

#################################################################
# Recruitment crew instance graph
#################################################################

:RecruitmentCrew a :Team ;
    rdfs:label "Recruitment Crew" ;
    :hasAgentMember :agent_researcher , :agent_matcher , :agent_communicator , :agent_reporter ;
    :hasWorkflowPattern :RecruitmentWorkflow ;
    :hasSystemConfig :config_agents_yaml , :config_tasks_yaml , :config_training ;
    :hasObjective :objective_hire_candidates ;
    rdfs:comment "Team (crew) that coordinates agents for recruitment pipeline." .

#################################################################
# Objectives
#################################################################

:objective_hire_candidates a :Objective ;
    rdfs:label "Find and report best candidates for a job opening" ;
    <http://purl.org/dc/terms/description> """Coordinate research, matching/scoring, outreach strategy, and reporting to produce a ranked and actionable list of candidates for a given job requirement input.""" .

#################################################################
# Agents (LLMAgents)
#################################################################

:agent_researcher a :LLMAgent ;
    :agentID "researcher" ;
    :agentRole "Job Candidate Researcher" ;
    :hasAgentGoal :goal_research_candidates ;
    :agentPrompt :prompt_agent_researcher ;
    :hasAgentConfig :config_researcher ;
    :agentToolUsage :tool_serperdev , :tool_scrapewebsite , :tool_linkedin ;
    :hasAgentCapability :cap_research ;
    rdfs:label "Researcher Agent" .

:agent_matcher a :LLMAgent ;
    :agentID "matcher" ;
    :agentRole "Candidate Matcher and Scorer" ;
    :hasAgentGoal :goal_match_and_score ;
    :agentPrompt :prompt_agent_matcher ;
    :hasAgentConfig :config_matcher ;
    :agentToolUsage :tool_serperdev , :tool_scrapewebsite ;
    :hasAgentCapability :cap_match_score ;
    rdfs:label "Matcher Agent" .

:agent_communicator a :LLMAgent ;
    :agentID "communicator" ;
    :agentRole "Candidate Outreach Strategist" ;
    :hasAgentGoal :goal_outreach_strategy ;
    :agentPrompt :prompt_agent_communicator ;
    :hasAgentConfig :config_communicator ;
    :agentToolUsage :tool_serperdev , :tool_scrapewebsite ;
    :hasAgentCapability :cap_outreach ;
    rdfs:label "Communicator Agent" .

:agent_reporter a :LLMAgent ;
    :agentID "reporter" ;
    :agentRole "Candidate Reporting Specialist" ;
    :hasAgentGoal :goal_report_candidates ;
    :agentPrompt :prompt_agent_reporter ;
    :hasAgentConfig :config_reporter ;
    :hasAgentCapability :cap_report ;
    rdfs:label "Reporter Agent" .

#################################################################
# Agent Goals
#################################################################

:goal_research_candidates a :Goal ;
    rdfs:label "Find potential candidates for the job" ;
    <http://purl.org/dc/terms/description> "Find potential candidates for the job specified in inputs (job_requirements). Use multiple public resources to assemble candidate brief profiles and contact info." .

:goal_match_and_score a :Goal ;
    rdfs:label "Match the candidates to the best jobs and score them" ;
    <http://purl.org/dc/terms/description> "Evaluate candidates relative to the job_requirements, compute scores and rank candidates with justifications." .

:goal_outreach_strategy a :Goal ;
    rdfs:label "Develop outreach strategies for the selected candidates" ;
    <http://purl.org/dc/terms/description> "Produce outreach methods and message templates tailored to prioritized candidates." .

:goal_report_candidates a :Goal ;
    rdfs:label "Report the best candidates to the recruiters" ;
    <http://purl.org/dc/terms/description> "Assemble a concise report for recruiters with profiles, scores, and outreach plan; follow output formatting instruction from tasks configuration." .

#################################################################
# Agent Prompts (agent base prompt composed from agent config fields)
#################################################################

:prompt_agent_researcher a :Prompt ;
    :promptInstruction """role: Job Candidate Researcher
goal: Find potential candidates for the job
backstory: You are adept at finding the right candidates by exploring various online resources. Your skill in identifying suitable candidates ensures the best match for job positions.""" ;
    :promptContext "Agent-level base instruction for researcher." ;
    rdfs:label "Researcher Agent Prompt" .

:prompt_agent_matcher a :Prompt ;
    :promptInstruction """role: Candidate Matcher and Scorer
goal: Match the candidates to the best jobs and score them
backstory: You have a knack for matching the right candidates to the right job positions using advanced algorithms and scoring techniques. Your scores help prioritize the best candidates for outreach.""" ;
    :promptContext "Agent-level base instruction for matcher." ;
    rdfs:label "Matcher Agent Prompt" .

:prompt_agent_communicator a :Prompt ;
    :promptInstruction """role: Candidate Outreach Strategist
goal: Develop outreach strategies for the selected candidates
backstory: You are skilled at creating effective outreach strategies and templates to engage candidates. Your communication tactics ensure high response rates from potential candidates.""" ;
    :promptContext "Agent-level base instruction for communicator." ;
    rdfs:label "Communicator Agent Prompt" .

:prompt_agent_reporter a :Prompt ;
    :promptInstruction """role: Candidate Reporting Specialist
goal: Report the best candidates to the recruiters
backstory: You are proficient at compiling and presenting detailed reports for recruiters. Your reports provide clear insights into the best candidates to pursue.""" ;
    :promptContext "Agent-level base instruction for reporter." ;
    rdfs:label "Reporter Agent Prompt" .

#################################################################
# Capabilities
#################################################################

:cap_research a :Capability ;
    rdfs:label "candidate_research" ;
    rdfs:comment "Search public data sources and extract candidate basic profile information." .

:cap_match_score a :Capability ;
    rdfs:label "candidate_matching_and_scoring" ;
    rdfs:comment "Evaluate candidates against job requirements and produce a numeric or ordinal score and justification." .

:cap_outreach a :Capability ;
    rdfs:label "outreach_strategy_development" ;
    rdfs:comment "Design outreach approaches and generate template messages for contacting candidates." .

:cap_report a :Capability ;
    rdfs:label "candidate_reporting" ;
    rdfs:comment "Compose recruiter-facing reports summarizing findings, scores and outreach strategies." .

#################################################################
# Tools
#################################################################

:tool_serperdev a :Tool ;
    rdfs:label "SerperDevTool" ;
    <http://purl.org/dc/terms/description> "Search / knowledge tool (SerperDev) used by agents for web search or knowledge lookups." ;
    :hasToolConfig :config_tool_serperdev ;
    :hasCapability :cap_searching .

:tool_scrapewebsite a :Tool ;
    rdfs:label "ScrapeWebsiteTool" ;
    <http://purl.org/dc/terms/description> "General web scraping tool used to extract structured information from web pages." ;
    :hasToolConfig :config_tool_scrapewebsite ;
    :hasCapability :cap_web_scraping .

:tool_linkedin a :Tool ;
    rdfs:label "Retrieve LinkedIn profiles" ;
    <http://purl.org/dc/terms/description> """Retrieve LinkedIn profiles given a list of skills. Input is a comma-separated list of skills. Returns candidate name, position, location, and profile link. Implemented via a web client that navigates LinkedIn search and extracts entries (requires a LinkedIn session cookie in environment).""" ;
    :hasToolConfig :config_tool_linkedin ;
    :hasCapability :cap_linkedin_retrieval .

# Capabilities used by tools
:cap_searching a :Capability ; rdfs:label "search_api" .
:cap_web_scraping a :Capability ; rdfs:label "web_scraping" .
:cap_linkedin_retrieval a :Capability ; rdfs:label "retrieve_linkedin_profiles" .

#################################################################
# Tool Configs (paths, environment references, flags)
#################################################################

:config_tool_linkedin a :Config ;
    :configKey "name" ;
    :configValue "LinkedInTool" ;
    :configKey "note" ;
    :configValue "This tool requires a LinkedIn session cookie available via environment variable LINKEDIN_COOKIE. The client will navigate linkedin.com and extract profiles." .

:config_tool_serperdev a :Config ;
    :configKey "name" ;
    :configValue "SerperDevTool" ;
    :configKey "note" ;
    :configValue "Search API tool, configuration may include API key and search parameters (not included here)." .

:config_tool_scrapewebsite a :Config ;
    :configKey "name" ;
    :configValue "ScrapeWebsiteTool" ;
    :configKey "note" ;
    :configValue "Generic HTML scraping tool used to extract elements by CSS selectors." .

#################################################################
# Agent-specific Config (from config/agents.yaml)
#################################################################

:config_researcher a :Config ;
    :configKey "role" ; :configValue "Job Candidate Researcher" ;
    :configKey "goal" ; :configValue "Find potential candidates for the job" ;
    :configKey "backstory" ; :configValue "You are adept at finding the right candidates by exploring various online resources. Your skill in identifying suitable candidates ensures the best match for job positions." ;
    :configKey "allow_delegation" ; :configValue "False" ;
    :configKey "verbose" ; :configValue "True" .

:config_matcher a :Config ;
    :configKey "role" ; :configValue "Candidate Matcher and Scorer" ;
    :configKey "goal" ; :configValue "Match the candidates to the best jobs and score them" ;
    :configKey "backstory" ; :configValue "You have a knack for matching the right candidates to the right job positions using advanced algorithms and scoring techniques. Your scores help prioritize the best candidates for outreach." ;
    :configKey "allow_delegation" ; :configValue "False" ;
    :configKey "verbose" ; :configValue "True" .

:config_communicator a :Config ;
    :configKey "role" ; :configValue "Candidate Outreach Strategist" ;
    :configKey "goal" ; :configValue "Develop outreach strategies for the selected candidates" ;
    :configKey "backstory" ; :configValue "You are skilled at creating effective outreach strategies and templates to engage candidates. Your communication tactics ensure high response rates from potential candidates." ;
    :configKey "allow_delegation" ; :configValue "False" ;
    :configKey "verbose" ; :configValue "True" .

:config_reporter a :Config ;
    :configKey "role" ; :configValue "Candidate Reporting Specialist" ;
    :configKey "goal" ; :configValue "Report the best candidates to the recruiters" ;
    :configKey "backstory" ; :configValue "You are proficient at compiling and presenting detailed reports for recruiters. Your reports provide clear insights into the best candidates to pursue." ;
    :configKey "allow_delegation" ; :configValue "False" ;
    :configKey "verbose" ; :configValue "True" .

#################################################################
# Tasks (from config/tasks.yaml and crew binding)
#################################################################

:task_research_candidates a :Task ;
    rdfs:label "research_candidates_task" ;
    <http://purl.org/dc/terms/description> """Conduct thorough research to find potential candidates for the specified job.
Utilize various online resources and databases to gather a comprehensive list of potential candidates.
Ensure that the candidates meet the job requirements provided.

Job Requirements:
{job_requirements}
""" ;
    :taskPrompt :prompt_task_research_candidates ;
    :performedByAgent :agent_researcher ;
    :producedResource :resource_candidates ;
    :contributesToObjective :objective_hire_candidates ;
    rdfs:comment "Expected output: A list of 10 potential candidates with their contact information and brief profiles highlighting their suitability." .

:task_match_and_score a :Task ;
    rdfs:label "match_and_score_candidates_task" ;
    <http://purl.org/dc/terms/description> """Evaluate and match the candidates to the best job positions based on their qualifications and suitability.
Score each candidate to reflect their alignment with the job requirements, ensuring a fair and transparent assessment process.
Don't try to scrape people's linkedin, since you don't have access to it.

Job Requirements:
{job_requirements}
""" ;
    :taskPrompt :prompt_task_match_and_score ;
    :performedByAgent :agent_matcher ;
    :producedResource :resource_scored_candidates ;
    :contributesToObjective :objective_hire_candidates ;
    rdfs:comment "Expected output: A ranked list of candidates with detailed scores and justifications for each job position." .

:task_outreach_strategy a :Task ;
    rdfs:label "outreach_strategy_task" ;
    <http://purl.org/dc/terms/description> """Develop a comprehensive strategy to reach out to the selected candidates.
Create effective outreach methods and templates that can engage the candidates and encourage them to consider the job opportunity.

Job Requirements:
{job_requirements}
""" ;
    :taskPrompt :prompt_task_outreach_strategy ;
    :performedByAgent :agent_communicator ;
    :producedResource :resource_outreach_strategy ;
    :contributesToObjective :objective_hire_candidates ;
    rdfs:comment "Expected output: A detailed list of outreach methods and templates ready for implementation, including communication strategies and engagement tactics." .

:task_report_candidates a :Task ;
    rdfs:label "report_candidates_task" ;
    <http://purl.org/dc/terms/description> """Compile a comprehensive report for recruiters on the best candidates to put forward.
Summarize the findings from the previous tasks and provide clear recommendations based on the job requirements.""" ;
    :taskPrompt :prompt_task_report_candidates ;
    :performedByAgent :agent_reporter ;
    :producedResource :resource_final_report ;
    :contributesToObjective :objective_hire_candidates ;
    rdfs:comment "Expected output: A detailed report with the best candidates to pursue, no need to include the job requirements formatted as markdown without '```', including profiles, scores, and outreach strategies." .

#################################################################
# Task Prompts (preserving placeholders and expected outputs)
#################################################################

:prompt_task_research_candidates a :Prompt ;
    :promptInstruction """Conduct thorough research to find potential candidates for the specified job.
Utilize various online resources and databases to gather a comprehensive list of potential candidates.
Ensure that the candidates meet the job requirements provided.

Job Requirements:
{job_requirements}
""" ;
    :promptOutputIndicator "A list of 10 potential candidates with their contact information and brief profiles highlighting their suitability." ;
    rdfs:label "Research Candidates Task Prompt" .

:prompt_task_match_and_score a :Prompt ;
    :promptInstruction """Evaluate and match the candidates to the best job positions based on their qualifications and suitability.
Score each candidate to reflect their alignment with the job requirements, ensuring a fair and transparent assessment process.
Don't try to scrape people's linkedin, since you don't have access to it.

Job Requirements:
{job_requirements}
""" ;
    :promptOutputIndicator "A ranked list of candidates with detailed scores and justifications for each job position." ;
    rdfs:label "Match and Score Candidates Task Prompt" .

:prompt_task_outreach_strategy a :Prompt ;
    :promptInstruction """Develop a comprehensive strategy to reach out to the selected candidates.
Create effective outreach methods and templates that can engage the candidates and encourage them to consider the job opportunity.

Job Requirements:
{job_requirements}
""" ;
    :promptOutputIndicator "A detailed list of outreach methods and templates ready for implementation, including communication strategies and engagement tactics." ;
    rdfs:label "Outreach Strategy Task Prompt" .

:prompt_task_report_candidates a :Prompt ;
    :promptInstruction """Compile a comprehensive report for recruiters on the best candidates to put forward.
Summarize the findings from the previous tasks and provide clear recommendations based on the job requirements.""" ;
    :promptOutputIndicator "A detailed report with the best candidates to pursue, no need to include the job requirements formatted as markdown without '```', including profiles, scores, and outreach strategies." ;
    rdfs:label "Report Candidates Task Prompt" .

#################################################################
# Produced resources (instances)
#################################################################

:resource_candidates a beam:Instance ;
    rdfs:label "candidates_raw_list" ;
    <http://purl.org/dc/terms/description> "Raw list of found candidate profiles and their basic contact/profile information produced by research_candidates_task." .

:resource_scored_candidates a beam:Instance ;
    rdfs:label "candidates_scored" ;
    <http://purl.org/dc/terms/description> "Candidates evaluated and scored by match_and_score_candidates_task; contains scores and justifications." .

:resource_outreach_strategy a beam:Instance ;
    rdfs:label "outreach_plan" ;
    <http://purl.org/dc/terms/description> "Outreach methods and message templates produced by outreach_strategy_task." .

:resource_final_report a beam:Instance ;
    rdfs:label "final_report_for_recruiters" ;
    <http://purl.org/dc/terms/description> "Compiled report produced by report_candidates_task with recommended candidates, scores, and outreach templates." .

#################################################################
# Workflow Pattern and Steps (sequential)
#################################################################

:RecruitmentWorkflow a :WorkflowPattern ;
    rdfs:label "Recruitment workflow pattern" ;
    :hasWorkflowStep :ws_research , :ws_match_and_score , :ws_outreach , :ws_report ;
    rdfs:comment "Sequential workflow pattern: research -> match_and_score -> outreach -> report." .

:ws_research a :StartStep ;
    rdfs:label "Research Step" ;
    :hasAssociatedTask :task_research_candidates ;
    :stepOrder 1 .

:ws_match_and_score a :WorkflowStep ;
    rdfs:label "Match and Score Step" ;
    :hasAssociatedTask :task_match_and_score ;
    :stepOrder 2 ;
    :relatedStep :ws_research .

:ws_outreach a :WorkflowStep ;
    rdfs:label "Outreach Strategy Step" ;
    :hasAssociatedTask :task_outreach_strategy ;
    :stepOrder 3 ;
    :relatedStep :ws_match_and_score .

:ws_report a :EndStep ;
    rdfs:label "Report Step" ;
    :hasAssociatedTask :task_report_candidates ;
    :stepOrder 4 ;
    :relatedStep :ws_outreach .

#################################################################
# Crew-level config files and training config (config/agents.yaml, config/tasks.yaml)
#################################################################

:config_agents_yaml a :Config ;
    :configKey "path" ; :configValue "config/agents.yaml" ;
    :configKey "contains" ; :configValue "researcher, matcher, communicator, reporter agent definitions" ;
    rdfs:comment "Reference to the agents configuration file used to instantiate agent prompts and settings." .

:config_tasks_yaml a :Config ;
    :configKey "path" ; :configValue "config/tasks.yaml" ;
    :configKey "contains" ; :configValue "task descriptions and expected outputs for recruitment pipeline" ;
    rdfs:comment "Reference to the tasks configuration file; task descriptions contain a {job_requirements} placeholder to be bound at kickoff/train time." .

:config_training a :Config ;
    :configKey "train_entry_point" ; :configValue "RecruitmentCrew().crew().train(n_iterations=<int>, inputs=...)" ;
    :configKey "train_iterations_arg" ; :configValue "Command-line sys.argv[1] is used to supply n_iterations" ;
    :configKey "note" ; :configValue "Training iterations and behavior are implementation/runtime details; modeled here as metadata." .

#################################################################
# Run-time input example (job_requirements) preserved as Prompt/Input resource
#################################################################

:input_job_requirements_example a :Prompt ;
    rdfs:label "example_job_requirements" ;
    :promptInputData """job_requirement:
  title: >
    Ruby on Rails and React Engineer
  description: >
    We are seeking a skilled Ruby on Rails and React engineer to join our team.
    The ideal candidate will have experience in both backend and frontend development,
    with a passion for building high-quality web applications.

  responsibilities: >
    - Develop and maintain web applications using Ruby on Rails and React.
    - Collaborate with teams to define and implement new features.
    - Write clean, maintainable, and efficient code.
    - Ensure application performance and responsiveness.
    - Identify and resolve bottlenecks and bugs.

  requirements: >
    - Proven experience with Ruby on Rails and React.
    - Strong understanding of object-oriented programming.
    - Proficiency with JavaScript, HTML, CSS, and React.
    - Experience with SQL or NoSQL databases.
    - Familiarity with code versioning tools, such as Git.

  preferred_qualifications: >
    - Experience with cloud services (AWS, Google Cloud, or Azure).
    - Familiarity with Docker and Kubernetes.
    - Knowledge of GraphQL.
    - Bachelor's degree in Computer Science or a related field.

  perks_and_benefits: >
    - Competitive salary and bonuses.
    - Health, dental, and vision insurance.
    - Flexible working hours and remote work options.
    - Professional development opportunities.
""" ;
    :promptContext "Example inputs to be interpolated into task descriptions, referenced by kickoff/train calls." .

#################################################################
# Misc notes captured as Config entries (flags, process)
#################################################################

:config_process_metadata a :Config ;
    :configKey "process" ; :configValue "sequential" ;
    :configKey "crew_verbose_level" ; :configValue "2 (crew creation), agents verbose True" ;
    :configKey "agent_allow_delegation_default" ; :configValue "False" ;
    rdfs:comment "Metadata describing crew process and runtime options used when constructing the Crew instance." .

#################################################################
# Provenance / relationships for participation (mapping agent tasks and produced resources)
#################################################################

# Indicate participation: agents participated in tasks (beam:participatedIn domain is prov:Agent)
:agent_researcher beam:participatedIn :task_research_candidates .
:agent_matcher beam:participatedIn :task_match_and_score .
:agent_communicator beam:participatedIn :task_outreach_strategy .
:agent_reporter beam:participatedIn :task_report_candidates .

# Tasks produce resources
:task_research_candidates :producedResource :resource_candidates .
:task_match_and_score :producedResource :resource_scored_candidates .
:task_outreach_strategy :producedResource :resource_outreach_strategy .
:task_report_candidates :producedResource :resource_final_report .

#################################################################
# End of instance data
#################################################################

################################################################################
# KickoffInputBundle (agento-ext) â€” Uniform runtime inputs for pipeline extraction
################################################################################

:KickoffInput_job_requirements a agento-ext:KickoffInputBundle ;
    agento-ext:inputKey "job_requirements" ;
    agento-ext:inputValue """job_requirement:
  title: >
    Ruby on Rails and React Engineer
  description: >
    We are seeking a skilled Ruby on Rails and React engineer to join our team.
    The ideal candidate will have experience in both backend and frontend development,
    with a passion for building high-quality web applications.

  responsibilities: >
    - Develop and maintain web applications using Ruby on Rails and React.
    - Collaborate with teams to define and implement new features.
    - Write clean, maintainable, and efficient code.
    - Ensure application performance and responsiveness.
    - Identify and resolve bottlenecks and bugs.

  requirements: >
    - Proven experience with Ruby on Rails and React.
    - Strong understanding of object-oriented programming.
    - Proficiency with JavaScript, HTML, CSS, and React.
    - Experience with SQL or NoSQL databases.
    - Familiarity with code versioning tools, such as Git.

  preferred_qualifications: >
    - Experience with cloud services (AWS, Google Cloud, or Azure).
    - Familiarity with Docker and Kubernetes.
    - Knowledge of GraphQL.
    - Bachelor's degree in Computer Science or a related field.

  perks_and_benefits: >
    - Competitive salary and bonuses.
    - Health, dental, and vision insurance.
    - Flexible working hours and remote work options.
    - Professional development opportunities.
""" ;
    agento-ext:isDefaultValue true .
